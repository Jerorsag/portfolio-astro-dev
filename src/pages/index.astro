---
import { getLandingPageData } from '../services/landing-page';
import Layout from '../layouts/Layout.astro';

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.

interface Props {
  title?: string;
  description?: string;
}

const { title, description } = Astro.props;

// Obtener datos del global layout
let landingPageData;
try {
  landingPageData = await getLandingPageData();
  console.log('üéØ Global data loaded successfully', landingPageData.attributes.blocks[0]);
} catch (error) {
  console.error('‚ùå Failed to load global data:', error);
  // Podr√≠amos mostrar un fallback o lanzar el error
  throw error;
}

const pageTitle = title || landingPageData.attributes.title;
const pageDescription = description || landingPageData.attributes.description;
---

<Layout>
	<div class="max-w-4xl mx-auto py-12 px-4">
    <div class="text-center">
      <h1 class="text-4xl font-bold text-gray-900 mb-4">
        {landingPageData.attributes.blocks[0].heading}
      </h1>
      <p class="text-xl text-gray-600 mb-8">
        {landingPageData.attributes.blocks[0].description}
      </p>
      
      <div class="bg-green-50 border border-green-200 rounded-lg p-6 mb-8">
        <h2 class="text-lg font-semibold text-green-800 mb-2">
          ‚úÖ Validaciones completadas:
        </h2>
        <ul class="text-left text-green-700 space-y-1">
          <li>‚Ä¢ Banner din√°mico cargado desde Strapi</li>
          <li>‚Ä¢ Header con logo, navegaci√≥n y redes sociales</li>
          <li>‚Ä¢ Footer con enlaces y copyright</li>
          <li>‚Ä¢ Im√°genes pobladas autom√°ticamente</li>
          <li>‚Ä¢ Tipos TypeScript funcionando</li>
        </ul>
      </div>

      <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
        <h2 class="text-lg font-semibold text-blue-800 mb-2">
          üöÄ Pr√≥ximos pasos:
        </h2>
        <p class="text-blue-700">
          Ahora que la conexi√≥n est√° funcionando correctamente, podemos continuar con la implementaci√≥n de la landing page y mejorar los estilos.
        </p>
      </div>
    </div>
  </div>
</Layout>
